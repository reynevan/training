{"version":3,"sources":["exercises.coffee"],"names":[],"mappings":"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","file":"exercises.js","sourceRoot":"/source/","sourcesContent":["jQuery ($) ->\r\n  $alert = $('<div></div>').addClass('alert flash')\r\n\r\n  $('.new-exercise').hide();\r\n  $newExc = $('.new-exercise')\r\n  $('.add-exercise').click ->\r\n    $newExc.clone().appendTo($('.table-exercises')).show().find('input').focus()\r\n\r\n  $(document).on 'click', '.btn-exercise-remove', ->\r\n    that = $(this)\r\n    _id = $(this).data('id').replace(/[^\\d.]/g, \"\")\r\n    token = $(this).data('token')\r\n    $.ajax({\r\n      method: \"DELETE\",\r\n      url: \"/exercises/\"+_id,\r\n      data: { _token: token, ajax: true }\r\n    })\r\n      .done ( msg ) -> \r\n        that.closest('tr').fadeOut()\r\n\r\n  $(document).on 'click', '.btn-exercise-save', ->\r\n    that = $(this)\r\n    name = $(this).parents('td').siblings('.name').find('input').val()\r\n    token = $(this).data('token')\r\n    $.ajax({\r\n      method: \"POST\",\r\n      url: \"/exercises\",\r\n      data: { name: name, _token: token, ajax: true }\r\n    })\r\n      .done ( msg ) -> \r\n        if msg == 'too short'\r\n          $alert.alert('Nazwa za krotka', 'alert-danger')\r\n        response = JSON.parse(msg)\r\n        that.removeClass('btn-success btn-exercise-save').addClass('btn-danger btn-exercise-remove')\r\n        that.attr('data-id', 'exercise-' + response['id'])\r\n        that.text('Usuń')\r\n        $alert.alert('Dodano ćwiczenie', 'alert-success')\r\n\r\n        val = that.parents('td').siblings('.name').find('input').val()\r\n        that.parents('td').siblings('.name').html(val)\r\n        \r\n\r\n  $(document).on 'keydown', '.input-name', (e) ->\r\n    if e.keyCode == 13\r\n      $(this).parents('td').siblings('.save').find('button').click()\r\n"]}